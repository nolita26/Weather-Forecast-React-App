{"ast":null,"code":"import React from'react';import Map,{Source,Layer}from'react-map-gl';import'mapbox-gl/dist/mapbox-gl.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WeatherPreview=_ref=>{let{city,weather}=_ref;const MAPBOX_TOKEN=process.env.MAPBOX_TOKEN;const heatmapLayer={id:'heatmap',type:'heatmap',source:'weather',maxzoom:9,paint:{'heatmap-weight':['interpolate',['linear'],['get','magnitude'],0,0,6,1],'heatmap-intensity':['interpolate',['linear'],['zoom'],0,1,9,3],'heatmap-color':['interpolate',['linear'],['heatmap-density'],0,'rgba(33,102,172,0)',0.2,'rgb(103,169,207)',0.4,'rgb(209,229,240)',0.6,'rgb(253,219,199)',0.8,'rgb(239,138,98)',1,'rgb(178,24,43)'],'heatmap-radius':['interpolate',['linear'],['zoom'],0,2,9,20],'heatmap-opacity':['interpolate',['linear'],['zoom'],7,1,9,0]}};return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:city}),/*#__PURE__*/_jsx(Map,{initialViewState:{longitude:weather.coord.lon,latitude:weather.coord.lat,zoom:10},style:{width:'100%',height:400},mapStyle:\"mapbox://styles/mapbox/streets-v11\",mapboxAccessToken:MAPBOX_TOKEN,children:/*#__PURE__*/_jsx(Source,{id:\"weather\",type:\"geojson\",data:{\"type\":\"FeatureCollection\",\"features\":[{\"type\":\"Feature\",\"properties\":{\"magnitude\":weather.main.temp},\"geometry\":{\"type\":\"Point\",\"coordinates\":[weather.coord.lon,weather.coord.lat]}}]},children:/*#__PURE__*/_jsx(Layer,{...heatmapLayer})})})]});};export default WeatherPreview;","map":{"version":3,"names":["React","Map","Source","Layer","jsx","_jsx","jsxs","_jsxs","WeatherPreview","_ref","city","weather","MAPBOX_TOKEN","process","env","heatmapLayer","id","type","source","maxzoom","paint","className","children","initialViewState","longitude","coord","lon","latitude","lat","zoom","style","width","height","mapStyle","mapboxAccessToken","data","main","temp"],"sources":["/Users/nolitarego/weather-map/src/components/WeatherPreview.js"],"sourcesContent":["import React from 'react';\nimport Map, { Source, Layer } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nconst WeatherPreview = ({ city, weather }) => {\n    const MAPBOX_TOKEN = process.env.MAPBOX_TOKEN;\n\n    const heatmapLayer = {\n        id: 'heatmap',\n        type: 'heatmap',\n        source: 'weather',\n        maxzoom: 9,\n        paint: {\n            'heatmap-weight': [\n                'interpolate',\n                ['linear'],\n                ['get', 'magnitude'],\n                0, 0,\n                6, 1\n            ],\n            'heatmap-intensity': [\n                'interpolate',\n                ['linear'],\n                ['zoom'],\n                0, 1,\n                9, 3\n            ],\n            'heatmap-color': [\n                'interpolate',\n                ['linear'],\n                ['heatmap-density'],\n                0, 'rgba(33,102,172,0)',\n                0.2, 'rgb(103,169,207)',\n                0.4, 'rgb(209,229,240)',\n                0.6, 'rgb(253,219,199)',\n                0.8, 'rgb(239,138,98)',\n                1, 'rgb(178,24,43)'\n            ],\n            'heatmap-radius': [\n                'interpolate',\n                ['linear'],\n                ['zoom'],\n                0, 2,\n                9, 20\n            ],\n            'heatmap-opacity': [\n                'interpolate',\n                ['linear'],\n                ['zoom'],\n                7, 1,\n                9, 0\n            ],\n        }\n    };\n\n    return (\n        <div className=\"mb-4\">\n        <h2 className=\"text-xl font-bold\">{city}</h2>\n        <Map initialViewState={{\n            longitude: weather.coord.lon,\n            latitude: weather.coord.lat,\n            zoom: 10,\n            }}\n            style={{ width: '100%', height: 400 }}\n            mapStyle=\"mapbox://styles/mapbox/streets-v11\"\n            mapboxAccessToken={MAPBOX_TOKEN}\n        >\n            <Source id=\"weather\" type=\"geojson\" data={{\n            \"type\": \"FeatureCollection\",\n            \"features\": [\n                {\n                \"type\": \"Feature\",\n                \"properties\": {\n                    \"magnitude\": weather.main.temp\n                },\n                \"geometry\": {\n                    \"type\": \"Point\",\n                    \"coordinates\": [weather.coord.lon, weather.coord.lat]\n                }\n                }\n            ]\n            }}>\n            <Layer {...heatmapLayer} />\n            </Source>\n        </Map>\n        </div>\n    );\n};\n\nexport default WeatherPreview;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,GAAG,EAAIC,MAAM,CAAEC,KAAK,KAAQ,cAAc,CACjD,MAAO,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAuB,IAAtB,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CACrC,KAAM,CAAAG,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACF,YAAY,CAE7C,KAAM,CAAAG,YAAY,CAAG,CACjBC,EAAE,CAAE,SAAS,CACbC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SAAS,CACjBC,OAAO,CAAE,CAAC,CACVC,KAAK,CAAE,CACH,gBAAgB,CAAE,CACd,aAAa,CACb,CAAC,QAAQ,CAAC,CACV,CAAC,KAAK,CAAE,WAAW,CAAC,CACpB,CAAC,CAAE,CAAC,CACJ,CAAC,CAAE,CAAC,CACP,CACD,mBAAmB,CAAE,CACjB,aAAa,CACb,CAAC,QAAQ,CAAC,CACV,CAAC,MAAM,CAAC,CACR,CAAC,CAAE,CAAC,CACJ,CAAC,CAAE,CAAC,CACP,CACD,eAAe,CAAE,CACb,aAAa,CACb,CAAC,QAAQ,CAAC,CACV,CAAC,iBAAiB,CAAC,CACnB,CAAC,CAAE,oBAAoB,CACvB,GAAG,CAAE,kBAAkB,CACvB,GAAG,CAAE,kBAAkB,CACvB,GAAG,CAAE,kBAAkB,CACvB,GAAG,CAAE,iBAAiB,CACtB,CAAC,CAAE,gBAAgB,CACtB,CACD,gBAAgB,CAAE,CACd,aAAa,CACb,CAAC,QAAQ,CAAC,CACV,CAAC,MAAM,CAAC,CACR,CAAC,CAAE,CAAC,CACJ,CAAC,CAAE,EAAE,CACR,CACD,iBAAiB,CAAE,CACf,aAAa,CACb,CAAC,QAAQ,CAAC,CACV,CAAC,MAAM,CAAC,CACR,CAAC,CAAE,CAAC,CACJ,CAAC,CAAE,CAAC,CAEZ,CACJ,CAAC,CAED,mBACIb,KAAA,QAAKc,SAAS,CAAC,MAAM,CAAAC,QAAA,eACrBjB,IAAA,OAAIgB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEZ,IAAI,CAAK,CAAC,cAC7CL,IAAA,CAACJ,GAAG,EAACsB,gBAAgB,CAAE,CACnBC,SAAS,CAAEb,OAAO,CAACc,KAAK,CAACC,GAAG,CAC5BC,QAAQ,CAAEhB,OAAO,CAACc,KAAK,CAACG,GAAG,CAC3BC,IAAI,CAAE,EACN,CAAE,CACFC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,GAAI,CAAE,CACtCC,QAAQ,CAAC,oCAAoC,CAC7CC,iBAAiB,CAAEtB,YAAa,CAAAU,QAAA,cAEhCjB,IAAA,CAACH,MAAM,EAACc,EAAE,CAAC,SAAS,CAACC,IAAI,CAAC,SAAS,CAACkB,IAAI,CAAE,CAC1C,MAAM,CAAE,mBAAmB,CAC3B,UAAU,CAAE,CACR,CACA,MAAM,CAAE,SAAS,CACjB,YAAY,CAAE,CACV,WAAW,CAAExB,OAAO,CAACyB,IAAI,CAACC,IAC9B,CAAC,CACD,UAAU,CAAE,CACR,MAAM,CAAE,OAAO,CACf,aAAa,CAAE,CAAC1B,OAAO,CAACc,KAAK,CAACC,GAAG,CAAEf,OAAO,CAACc,KAAK,CAACG,GAAG,CACxD,CACA,CAAC,CAEL,CAAE,CAAAN,QAAA,cACFjB,IAAA,CAACF,KAAK,KAAKY,YAAY,CAAG,CAAC,CACnB,CAAC,CACR,CAAC,EACD,CAAC,CAEd,CAAC,CAED,cAAe,CAAAP,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}