{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CitySelection=_ref=>{let{onSearch}=_ref;const[input,setInput]=useState('');const fetchWeatherData=async city=>{const API_KEY=process.env.OPENWEATHER_API_KEY;try{const weatherResponse=await axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&units=metric&appid=\").concat(API_KEY));const forecastResponse=await axios.get(\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(city,\"&units=metric&appid=\").concat(API_KEY));onSearch({city:weatherResponse.data.name,weather:weatherResponse.data,forecast:forecastResponse.data});}catch(error){console.error('Error fetching weather data:',error);}};const handleSubmit=e=>{e.preventDefault();if(input){fetchWeatherData(input);setInput('');}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),className:\"border p-2 mr-2\",placeholder:\"Enter city\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 text-white p-2\",children:\"Search\"})]});};export default CitySelection;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","CitySelection","_ref","onSearch","input","setInput","fetchWeatherData","city","API_KEY","process","env","OPENWEATHER_API_KEY","weatherResponse","get","concat","forecastResponse","data","name","weather","forecast","error","console","handleSubmit","e","preventDefault","onSubmit","className","children","type","value","onChange","target","placeholder"],"sources":["/Users/nolitarego/weather-map/src/components/CitySelection.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst CitySelection = ({ onSearch }) => {\n  const [input, setInput] = useState('');\n\n  const fetchWeatherData = async (city) => {\n      const API_KEY = process.env.OPENWEATHER_API_KEY;\n      try {\n        const weatherResponse = await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${API_KEY}`);\n        const forecastResponse = await axios.get(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&units=metric&appid=${API_KEY}`);\n        onSearch({\n          city: weatherResponse.data.name,\n          weather: weatherResponse.data,\n          forecast: forecastResponse.data,\n        });\n      } catch (error) {\n        console.error('Error fetching weather data:', error);\n      }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (input) {\n      fetchWeatherData(input);\n      setInput('');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"mb-4\">\n      <input\n        type=\"text\"\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        className=\"border p-2 mr-2\"\n        placeholder=\"Enter city\"\n      />\n      <button type=\"submit\" className=\"bg-blue-500 text-white p-2\">Search</button>\n    </form>\n  );\n};\n\nexport default CitySelection;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACjC,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAW,gBAAgB,CAAG,KAAO,CAAAC,IAAI,EAAK,CACrC,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB,CAC/C,GAAI,CACF,KAAM,CAAAC,eAAe,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,sDAAAC,MAAA,CAAsDP,IAAI,yBAAAO,MAAA,CAAuBN,OAAO,CAAE,CAAC,CAClI,KAAM,CAAAO,gBAAgB,CAAG,KAAM,CAAAnB,KAAK,CAACiB,GAAG,uDAAAC,MAAA,CAAuDP,IAAI,yBAAAO,MAAA,CAAuBN,OAAO,CAAE,CAAC,CACpIL,QAAQ,CAAC,CACPI,IAAI,CAAEK,eAAe,CAACI,IAAI,CAACC,IAAI,CAC/BC,OAAO,CAAEN,eAAe,CAACI,IAAI,CAC7BG,QAAQ,CAAEJ,gBAAgB,CAACC,IAC7B,CAAC,CAAC,CACJ,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACJ,CAAC,CAED,KAAM,CAAAE,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIpB,KAAK,CAAE,CACTE,gBAAgB,CAACF,KAAK,CAAC,CACvBC,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAED,mBACEL,KAAA,SAAMyB,QAAQ,CAAEH,YAAa,CAACI,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC5C7B,IAAA,UACE8B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEzB,KAAM,CACb0B,QAAQ,CAAGP,CAAC,EAAKlB,QAAQ,CAACkB,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAE,CAC1CH,SAAS,CAAC,iBAAiB,CAC3BM,WAAW,CAAC,YAAY,CACzB,CAAC,cACFlC,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EACxE,CAAC,CAEX,CAAC,CAED,cAAe,CAAA1B,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}